<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- favicon stuff -->
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="images/ico/apple-icon-57x57.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="images/ico/apple-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="images/ico/apple-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="images/ico/apple-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="images/ico/apple-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="images/ico/apple-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="images/ico/apple-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="images/ico/apple-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="images/ico/apple-icon-180x180.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="images/ico/android-icon-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="images/ico/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="images/ico/favicon-96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="images/ico/favicon-16x16.png"
    />
    <link rel="manifest" href="images/ico/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta
      name="msapplication-TileImage"
      content="images/ico/ms-icon-144x144.png"
    />
    <meta name="theme-color" content="#ffffff" />
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
      integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
      crossorigin="anonymous"
    />

    <!-- Select2 CSS (used for skill selector) -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css"
      rel="stylesheet"
    />

    <style>
      /* Removes selected results from the multi-select */
      .select2-results__option[aria-selected="true"] {
        display: none;
      }

      select.selector-multiple {
        height: 37px;
      }

      .btn-amazon-orange {
        background-image: linear-gradient(180deg, #f67c1b 0, #e15500);
        background-color: #ec7211;
        color: #ffffff;
        box-shadow: inset 0 1px 0 hsla(0, 0%, 100%, 0.2);
        text-shadow: rgba(0, 0, 0, 0.05) 0 1px 0;
        border-color: #e76d0c #e15500 #e15500;
        margin-top: 8px;
        opacity: 0.9;
      }

      .btn-amazon-orange:hover {
        color: #ffffff;
        opacity: 1;
      }

      .form-row {
        padding-top: 8px;
      }

      .powered-by-ovio {
        margin: auto;
        text-align: center;
        max-width: 150px;
      }
    </style>

    <title>WFP PRISM | Powered by Ovio</title>
  </head>
  <body>
    <div class="container">
      <div class="col-lg-9 offset-lg-1">
        <div class="row align-items-center py-5">
          <div class="col-8 offset-2">
            <img src="images/wfp-logo.png" class="img-fluid" alt="WFP Logo" />
          </div>
        </div>

        <div class="row py-4">
          <p>
            PRISM is a hub for critical information that governments, NGOs, and the WFP need to respond to environmental disasters in an effective, coordinated manner. It combines remote sensing data, official data from census and reports, and on-the-ground updates into a single information platform with integrated data visualization and prediction.
          </p>

          <img src="images/flood.jpg" class="img-fluid" alt="Flooding" />

          <p>
            We are looking for help expand the PRISM platform to more countries and adding additional functionality, including more data sources, Machine Learning, and additional visualizations. To help us scale to the next level, we need world-class software engineers, data scientists, and systems architects.
          </p>

          <p>
            Please reach out to us if you are interested in hearing more about what we're building, sharing your network, mentoring, or even volunteering your own skills. Together, we can make sure that our responses to environmental disasters are as effective and efficient as possible!
          </p>
        </div>

        <form class="needs-validation" novalidate="">
          <div class="border p-4">
            <h3>Reach out to contact the PRISM team</h3>
            <p>We love to hear from people who are interested in helping out the project.</p>
            <div class="form-row">
              <div class="col">
                <label for="name">Name</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Name"
                  name="name"
                  required=""
                />
              </div>
              <div class="col">
                <label for="name">Email</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Email"
                  name="email"
                  required=""
                />
              </div>
            </div>

            <div class="form-row">
              <div class="col">
                <label for="name">City</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="City"
                  name="city"
                />
              </div>
              <div class="col">
                <label for="name">Country</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Country"
                  name="country"
                />
              </div>
            </div>

            <div class="form-row">
              <div class="col">
                <label for="org">Company/Organization</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Company/University"
                  name="org"
                />
              </div>
              <div class="col">
                <label for="name">LinkedIn Profile</label>
                <input type="text" class="form-control" placeholder="LinkedIn" name="linked-in" />
              </div>
            </div>

            <input
              type="hidden"
              class="form-control"
              name="recommendations"
              value="WFP - PRISM"
            />

            <div class="form-row">
              <div class="col">
                <label for="other">
                  What is your interest in the PRISM project? How can you help the project/team?
                </label>

                <textarea rows="3" class="form-control" name="other"></textarea>
              </div>
            </div>
          </div>

          <div class="row" id="submit-msgs">
            <div class="col">
              <div
                class="alert alert-danger d-none"
                id="submit-errors"
                role="alert"
              ></div>
              <div
                class="alert alert-success d-none"
                id="submit-success"
                role="alert"
              >
                Thank you for submitting your information to PRISM!
              </div>
            </div>
          </div>

          <div class="row pb-3">
            <div class="col text-center">
              <button
                type="submit"
                class="btn btn-amazon-orange rounded"
                id="submit"
              >
                <span
                  class="spinner-border spinner-border-sm d-none"
                  role="status"
                  aria-hidden="true"
                ></span>
                <span class="sr-only d-none">Loading...</span>
                <span class="btn-text">Submit</span>
              </button>
            </div>
          </div>
        </form>

        <div class="row">
          <div class="powered-by-ovio">
            <a href="https://www.ovio.org" target="_blank">
              <img src="images/logo-ovio.jpg" class="img-fluid" alt="Ovio Logo" />
            </a>
            <p class="small">Powered by <a href="https://www.ovio.org/" target="_blank">Ovio</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
      integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
      integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
      crossorigin="anonymous"
    ></script>

    <!-- Select2 JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>

    <script>
      $(document).ready(function() {
        //var serverUrl = "https://ovio-intake-proxy.herokuapp.com/submit";
        var serverUrl = "http://localhost:5000/submit";

        function toggleBtnLoading(btn) {
          var elem = $(btn).children(".spinner-border");
          elem.toggleClass("d-none");
          elem.next(".sr-only").toggleClass("d-none");
          $(btn)
            .children(".btn-text")
            .toggleClass("d-none");
        }

        function scrollToBottom() {
          $("html, body").animate(
            {
              scrollTop: $(document).height()
            },
            0
          );
        }

        $(".form-control").blur(function() {
          $(this).removeClass("is-valid is-invalid");
          if (this.validity.valid) {
            $(this).addClass("is-valid");
          } else {
            $(this).addClass("is-invalid");
          }
        });

        $("#submit").click(function(ev) {
          ev.preventDefault();
          $("#submit-msgs .alert").addClass("d-none");

          var form = $(this).parents("form");
          form.addClass("was-validated");

          if (form[0].checkValidity() === false) {
            $("#submit-errors")
              .text("Please fill out all required fields")
              .removeClass("d-none");
            scrollToBottom();
            return;
          }

          var btn = this;
          toggleBtnLoading(btn);

          var request = $.ajax({
            url: serverUrl,
            type: "post",
            datatype: "json",
            data: form.serialize()
          });

          request.always(function() {
            toggleBtnLoading(btn);
          });

          request.done(function(res) {
            $("#submit-success").removeClass("d-none");
            scrollToBottom();
          });

          request.fail(function(jqXHR) {
            var errorText;
            if (jqXHR.responseJSON && jqXHR.responseJSON["Error"]) {
              errorText = jqXHR.responseJSON["Error"];
            } else {
              errorText =
                "There was a problem submitting your request. Please try again, or contact support@ovio.org";
            }
            $("#submit-errors")
              .text(errorText)
              .removeClass("d-none");
            scrollToBottom();
          });
        });

        // Select2 multi selects
        $('select[name="skills[]"]').select2({
          tags: true,
          data: [
            "Android",
            "AngularJS",
            "Architect",
            "Backend",
            "C++",
            "Code Review",
            "DevOps",
            "Frontend",
            "iOS",
            "Java",
            "Javascript",
            "Machine Learning",
            "Mobile",
            "Open Source",
            "PHP",
            "Python",
            "React",
            "React Native",
            "React Redux",
            "Ruby",
            "Technical Design",
            "UI",
            "UX",
            "Web Development",
            "Ruby on Rails"
          ]
        });

        $('select[name="roles[]"]').select2({
          tags: true,
          data: [
            "Developer",
            "Project Lead",
            "System Architect",
            "QA",
            "Designer"
          ]
        });

        $('select[name="types[]"]').select2({
          data: [
            "Mentoring Organizations",
            "Mentoring Students",
            "Volunteering - Project Based",
            "Volunteering - Task Based"
          ]
        });

        $('select[name="causes[]"]').select2({
          tags: true,
          data: [
            "No Poverty",
            "Zero Hunger",
            "Good Health & Well-Being",
            "Quality Education",
            "Gender Equality",
            "Clean Water & Sanitation",
            "Affordable & Clean Energy",
            "Decent Work & Economic Growth",
            "Industry Innovation & Infrastructure",
            "Reducing Inequality",
            "Sustainable Cities & Communities",
            "Responsible Consumption & Production",
            "Climate Action",
            "Migration & Refugee Crisis",
            "Life below Water",
            "Life on Land",
            "Peace, Justice, & Strong Institutions",
            "Partnerships to Achieve the Goal",
            "Arts",
            "Forced Migration and Displacement",
            "Humanitarian",
            "Civic Tech"
          ]
        });
      });
    </script>
  </body>
</html>
